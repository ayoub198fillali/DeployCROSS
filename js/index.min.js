debugCharge&&console.log("(Module)Index charged!");import Home from"../views/Home.js";import Surnav from"../views/Surnav.js";import Mouillage from"../views/Mouillage.js";import RsmSurfaune from"../views/RsmSurfaune.js";import Surpol from"../views/Surpol.js";import JournalOperation from"../views/JournalOperation.js";import EnCours from"../views/EnCours.js";import LienOperation from"../views/LienOperation.js";import Settings from"../views/Settings.js";import AddSortie from"../views/AddSortie.js";import JournalQuart from"../views/JournalQuart.js";import Documents from"../views/Documents.js";import OtherWin from"../views/OtherWin.js";const pathToRegex=e=>new RegExp("^"+e.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")+"$"),getParams=e=>{const t=e.result.slice(1),o=Array.from(e.route.path.matchAll(/:(\w+)/g)).map(e=>e[1]);return Object.fromEntries(o.map((e,o)=>[e,t[o]]))},navigateTo=o=>{var e=new URL(o).pathname;e==location.pathname&&"/setting"!=e||(!validitionForm()||"/setting"==e&&"/setting"==location.pathname||"rgb(0, 128, 0)"==$("#StatusJQ").css("background-color")?(history.pushState(null,null,o),router()):Swal.fire({template:"#my-template"}).then(function(e){e.value?(history.pushState(null,null,o),router()):"cancel"==e.dismiss&&console.log("cancel")}))},router=async()=>{const e=[{path:"/",view:Home},{path:"/surnav",view:Surnav},{path:"/mouillage",view:Mouillage},{path:"/rsmsurfaune",view:RsmSurfaune},{path:"/surpol",view:Surpol},{path:"/journauxoperations",view:JournalOperation},{path:"/encours",view:EnCours},{path:"/liensoperations",view:LienOperation},{path:"/setting",view:Settings},{path:"/addsortie",view:AddSortie},{path:"/journalquart",view:JournalQuart},{path:"/documents",view:Documents},{path:"/otherwin",view:OtherWin}],o=e.map(e=>({route:e,result:location.pathname.match(pathToRegex(e.path))}));let t=o.find(e=>null!==e.result);const n=new(t=t||{route:e[0],result:[location.pathname]}).route.view(getParams(t));switch(document.querySelector("#MainPanel").innerHTML=await n.getHtml(),t.route.path){case"/":debug&&console.log("home Executed"),getLastConfHorloge(),GETConfigs();break;case"/surnav":debug&&console.log("surnav Executed"),SetPropsSurnav(),FintervalGlobalLastIdSurnav(),GETConfigs();break;case"/mouillage":debug&&console.log("mouillage Executed"),window.sessionStorage.validatioNbMouillage=0,window.sessionStorage.firstMouillage=!0,GETMouillage(),FintervalMouillage(),ChangeStatMouillage(),GETConfigs();break;case"/rsmsurfaune":debug&&console.log("rsmsurfaune Executed"),SetPropsRsmSurfaune(),FintervalGlobalLastIdRsmSurfaune(),GETConfigs();break;case"/surpol":debug&&console.log("Surpol Executed"),SetPropsSurpol(),FintervalGlobalLastIdSurpol(),GETConfigs();break;case"/journauxoperations":debug&&console.log("journauxoperations Executed"),window.sessionStorage.validatioNbJournalOperation=0,window.sessionStorage.firstJournalOperation=!0,GETJournalOperation(),FintervalJournalOperation(),ChangeStatJournalOperation(),GETConfigs();break;case"/encours":debug&&console.log("encours Executed "),window.sessionStorage.validatioNbEnCour=0,window.sessionStorage.firstEnCour=!0,GETEnCour(),FintervalEnCour(),ChangeStatEnCour(),GETConfigs();break;case"/liensoperations":debug&&console.log("liensoperations Executed"),GETConfigs();break;case"/setting":debug&&console.log("setting Executed"),onSubmitSettingAuthentification(),window.auth&&(showHideSetting(),GETSemaphores(),GETOdp(),GETTo(),GETCdq(),GETAdq(),GETAction(),GETSector(),GETNavire(),GETActionQ(),GETTech(),GETPavillon(),GetNewFile(),GETFiles()),GETConfigs();break;case"/addsortie":debug&&console.log("addSortie Executed"),window.sessionStorage.validatioNbSorties=0,GETSorties(),FintervalGlobalSorties(),GETConfigs();break;case"/journalquart":debug&&console.log("journalquart Executed"),SetPropsJQ(),FintervalGlobalJQ(),GETConfigs();break;case"/documents":debug&&console.log("documents Executed"),LoadViewFile(),setTimeout(()=>{showHideDocuments()},300),GETConfigs();break;case"/otherwin":debug&&console.log("otherwin Executed"),ChangeStatOtherWin(),GETConfigs();break;default:debug&&console.log("Autre Executed"),GETConfigs()}};let validitionForm=()=>{if(!($("#formSurnav").data("changed")||$("#formSurpol").data("changed")||$("#formRsmSurfaune").data("changed")||$("#formJQ").data("changed")))return!1;let e=!0;return $(":input").not(":input[type=button], :input[type=color], :input[type=submit], :input[type=reset], :input[name$=_length], :input[placeholder='Enter Seconds'], :input[name=login], :input[name=password], :input[type=range], :input[type=checkbox], :input[type=search]").each(function(){if(""!==$(this).val()&&null!==$(this).val())return e=!1,0}),!e};window.addEventListener("beforeunload",()=>{debug&&console.log("beforeunload")}),window.addEventListener("popstate",router),document.addEventListener("DOMContentLoaded",()=>{document.body.addEventListener("click",e=>{e.target.matches("[data-link]")&&(e.preventDefault(),navigateTo(e.target.href))}),router()});