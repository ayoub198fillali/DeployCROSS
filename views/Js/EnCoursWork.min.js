debugCharge&&console.log("(Work)EnCoursWork charged!");let tableDestEnCour,thisPageEnCour=0,thisOrderEnCour=-1,thisNumPagesEnCour=10,thisSearchEnCour,chartShowEnCour=1;function GETEnCour(e=!0,o=!0,n=!0,t=!0){if(0!=window.sessionStorage.validatioNbEnCour)debugUpdates&&console.log("skip GETEnCour");else{{const s=new XMLHttpRequest;s.onload=function(){if(debugUpdates&&console.log("GETEnCour onload"),e||tableDestEnCour.destroy(),$("#ENCOURtableShowBody").html(this.responseText),tableDestEnCour=$("#ENCOURtableShow").DataTable({searchPanes:{initCollapsed:!0},dom:'lfrtip <"bottomExport"B> P',buttons:["copyHtml5","csvHtml5","excelHtml5","pdfHtml5","print"],initComplete:function(){$(".dtsp-panesContainer").off("mouseup").on("mouseup",function(){window.sessionStorage.validatioNbEnCour=10})},columnDefs:[{type:"natural-nohtml",targets:0}],order:[[0,"asc"]],oLanguage:{sEmptyTable:"Empty Table"},language:{info:"Affichage de la page _PAGE_ sur _PAGES_",infoFiltered:"(filtrée de _MAX_ entrée)",lengthMenu:"Affichage de _MENU_ entrées",searchPlaceholder:"Chercher:  "},ordering:!0,info:!0,autoFill:!0,autoWidth:!1}),window.sessionStorage.firstEnCour){window.sessionStorage.firstEnCour=!1;let e=Highcharts.chart("chartTableDestEnCour",{chart:{type:"pie"},title:{text:" "},series:[{data:o(tableDestEnCour)}]});function o(e){let o={};return e.column(chartShowEnCour,{search:"applied"}).data().each(function(e){o[e]?o[e]+=1:o[e]=1}),$.map(o,function(e,o){return{name:o,y:e}})}tableDestEnCour.off("draw").on("draw",function(){e.series[0].setData(o(tableDestEnCour))}),$(".highcharts-credits")[0].remove()}-1!=thisOrderEnCour&&tableDestEnCour.order(thisOrderEnCour).draw(),null!=thisSearchEnCour&&tableDestEnCour.search(thisSearchEnCour).draw(),tableDestEnCour.page.len(thisNumPagesEnCour).draw(),tableDestEnCour.page(thisPageEnCour).draw("page")};o=o&n&t?0:o?1:n?2:t?3:4;s.open("GET",`views/Php/EnCour/EnCourGET.php?thisdate=${(new Date).toISOString().split("-")[0]}&conf=`+o),s.send()}$("#ENCOURtableShow").off("page.dt").on("page.dt",function(){setTimeout(function(){debugListners&&console.log("$$$L Page En Cours"),thisPageEnCour=tableDestEnCour.page.info().page},10)}),$("#ENCOURtableShow th").off("click").on("click",function(){setTimeout(function(){debugListners&&console.log("$$$L Sort En Cours"),thisOrderEnCour=tableDestEnCour.order(),thisPageEnCour=0},10)}),$("#ENCOURtableShow").off("length.dt").on("length.dt",function(){thisNumPagesEnCour=tableDestEnCour.page.len()}),$("#ENCOURtableShow").off("search.dt").on("search.dt",function(){setTimeout(function(){""!=(thisSearchEnCour=tableDestEnCour.search())&&(thisPageEnCour=0)},10)}),setTimeout(function(){$("#ENCOURtableShow_length select , #ENCOURtableShow_filter input").off("focus").on("focus",function(){debugListners&&console.log("$$$L focus search En Cours"),window.sessionStorage.validatioNbEnCour++})},200),setTimeout(function(){$("#ENCOURtableShow_length select , #ENCOURtableShow_filter input").off("blur").on("blur",function(){debugListners&&console.log("$$$L  blur search En Cours"),window.sessionStorage.validatioNbEnCour--})},200)}}function deleteEnCour(e){e.stopPropagation(),window.sessionStorage.validatioNbEnCour++;e=$(this).data("testidencour");$("#delete-EnCour-"+e).addClass("hidden"),$("#save-EnCour-"+e).addClass("hidden"),$("#cancel-EnCour-"+e).removeClass("hidden"),$("#confirm-EnCour-"+e).removeClass("hidden")}function cancelDeletionEnCour(e){e.stopPropagation(),window.sessionStorage.validatioNbEnCour--;e=$(this).data("testidencour");$("#delete-EnCour-"+e).removeClass("hidden"),$("#save-EnCour-"+e).removeClass("hidden"),$("#cancel-EnCour-"+e).addClass("hidden"),$("#confirm-EnCour-"+e).addClass("hidden")}function confirmDeletionEnCour(e){e.stopPropagation(),window.sessionStorage.validatioNbEnCour--;e=$(this).data("testidencour");let o=$("#EnCour-"+e);deleteEnCours(""+e),o.remove(),tableDestEnCour.row(o).remove()}function ChangeStatEnCour(){$("#allENCOUR").off("click").on("click",function(){window.sessionStorage.validatioNbEnCour=0,$("#allENCOUR").hasClass("checked")||($("#allENCOUR,#surnavENCOUR,#surpolENCOUR,#rsmSurfauneENCOUR").removeClass("checked"),$("#allENCOUR").addClass("checked"),myNotif("success","All Actived !"),GETEnCour(!1,!0,!0,!0))}),$("#surnavENCOUR").off("click").on("click",function(){window.sessionStorage.validatioNbEnCour=0,$("#surnavENCOUR").hasClass("checked")||($("#allENCOUR,#surnavENCOUR,#surpolENCOUR,#rsmSurfauneENCOUR").removeClass("checked"),$("#surnavENCOUR").addClass("checked"),myNotif("success","Surnav Actived !"),GETEnCour(!1,!0,!1,!1))}),$("#surpolENCOUR").off("click").on("click",function(){window.sessionStorage.validatioNbEnCour=0,$("#surpolENCOUR").hasClass("checked")||($("#allENCOUR,#surnavENCOUR,#surpolENCOUR,#rsmSurfauneENCOUR").removeClass("checked"),$("#surpolENCOUR").addClass("checked"),myNotif("success","Surpol Actived !"),GETEnCour(!1,!1,!0,!1))}),$("#rsmSurfauneENCOUR").off("click").on("click",function(){window.sessionStorage.validatioNbEnCour=0,$("#rsmSurfauneENCOUR").hasClass("checked")||($("#allENCOUR,#surnavENCOUR,#surpolENCOUR,#rsmSurfauneENCOUR").removeClass("checked"),$("#rsmSurfauneENCOUR").addClass("checked"),myNotif("success","RSM/Surfaune Actived !"),GETEnCour(!1,!1,!1,!0))}),$("#changeChartByEnCour").off("change").on("change",function(){chartShowEnCour=$("#changeChartByEnCour").val(),tableDestEnCour.draw()}),$("#showHideChartEnCour").off("click").on("click",function(){$("#chartTableDestEnCour").toggle("slow"),$("#changeChartByEnCour").toggle("slow")})}function clickRowEnCour(e){e.stopPropagation();var e=$(this)[0].id.split("-"),o=e[1];let n=e[2];var t=e[3];n=n.toString().padStart(5,"0"),debug&&console.log(e+" Update"),"surnav"==o?(window.sessionStorage.setItem("updateSurnavForm",n+" Update"),window.sessionStorage.setItem("updateSurnavFormID",t),debug&&console.log("id  "+n),debug&&console.log("toTrueId  "+t),$("#surnavIdView")[0].click()):"surpol"==o?(window.sessionStorage.setItem("updateSurpolForm",n+" Update"),window.sessionStorage.setItem("updateSurpolFormID",t),debug&&console.log("id  "+n),debug&&console.log("toTrueId  "+t),$("#surpolIdView")[0].click()):"RSM"!=o&&"SURFAUNE"!=o||(window.sessionStorage.setItem("updateRsmSurfauneForm",n+" Update"),window.sessionStorage.setItem("updateRsmSurfauneFormID",t),debug&&console.log("id  "+n),debug&&console.log("toTrueId  "+t),$("#rsmsurfauneIdView")[0].click())}function deleteEnCours(e){const o=new XMLHttpRequest;o.onload=function(){myNotif("success",`${e.split("-")[0].charAt(0).toUpperCase()+e.split("-")[0].slice(1)} (${e.split("-")[1]}) Deleted`,2e3),$("#allENCOUR").hasClass("checked")?GETEnCour(!1,!0,!0,!0):$("#surnavENCOUR").hasClass("checked")?GETEnCour(!1,!0,!1,!1):$("#surpolENCOUR").hasClass("checked")?GETEnCour(!1,!1,!0,!1):GETEnCour(!1,!1,!1,!0)},o.open("GET",`views/Php/EnCour/EnCourDelete.php?theID=${e}&thisdate=`+(new Date).toISOString().split("-")[0]),o.send()}